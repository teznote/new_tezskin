{
  "version": 3,
  "sources": ["../src/core.ts"],
  "sourcesContent": ["import path from 'path'\nimport log from '@techor/log'\nimport extend from '@techor/extend'\nimport { explorePathSync } from '@techor/glob'\nimport crossImport from 'cross-import'\n\nexport default function exploreConfig(\n    source: string | string[],\n    options?: {\n        cwd?: string,\n        keys?: string[],\n        on?: {\n            found?: (foundPath: string) => void,\n            notFound?: () => void\n        }\n    }\n) {\n    options = extend({\n        keys: ['config', 'default'],\n        on: {\n            found: (foundPath: string) => log.ok`**${foundPath}** config file found`,\n            notFound: () => log.i`No **${source}** config file found`\n        }\n    }, options)\n    const { on, keys } = options\n    let foundConfig: any\n    try {\n        const foundPath = explorePathSync(source, options)\n        if (foundPath) {\n            const foundConfigModule = crossImport(path.resolve(options.cwd || '', foundPath))\n            for (const key of keys) {\n                foundConfig = foundConfigModule[key]\n                if (foundConfig) {\n                    break\n                }\n            }\n            if (!foundConfig) {\n                foundConfig = foundConfigModule\n            }\n            on.found?.(foundPath)\n        } else {\n            on.notFound?.()\n        }\n    } catch (err) {\n        log.error(err)\n    }\n    return foundConfig\n}"],
  "mappings": "AAAA,OAAOA,MAAU,OACjB,OAAOC,MAAS,cAChB,OAAOC,MAAY,iBACnB,OAAS,mBAAAC,MAAuB,eAChC,OAAOC,MAAiB,eAET,SAARC,EACHC,EACAC,EAQF,CACEA,EAAUL,EAAO,CACb,KAAM,CAAC,SAAU,SAAS,EAC1B,GAAI,CACA,MAAQM,GAAsBP,EAAI,OAAOO,CAAS,uBAClD,SAAU,IAAMP,EAAI,SAASK,CAAM,sBACvC,CACJ,EAAGC,CAAO,EACV,GAAM,CAAE,GAAAE,EAAI,KAAAC,CAAK,EAAIH,EACjBI,EACJ,GAAI,CACA,IAAMH,EAAYL,EAAgBG,EAAQC,CAAO,EACjD,GAAIC,EAAW,CACX,IAAMI,EAAoBR,EAAYJ,EAAK,QAAQO,EAAQ,KAAO,GAAIC,CAAS,CAAC,EAChF,QAAWK,KAAOH,EAEd,GADAC,EAAcC,EAAkBC,CAAG,EAC/BF,EACA,MAGHA,IACDA,EAAcC,GAElBH,EAAG,QAAQD,CAAS,CACxB,MACIC,EAAG,WAAW,CAEtB,OAASK,EAAK,CACVb,EAAI,MAAMa,CAAG,CACjB,CACA,OAAOH,CACX",
  "names": ["path", "log", "extend", "explorePathSync", "crossImport", "exploreConfig", "source", "options", "foundPath", "on", "keys", "foundConfig", "foundConfigModule", "key", "err"]
}
