<!DOCTYPE html>
<html lang="ko" class="preload">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>{{ site.title }}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-nanum-square-neo@0.0.6/nanumsquareneo.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.2/reset.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.min.css"/>
    <link rel="stylesheet" href="./res/main.css"/>
  </head>
  <body>
    <div class="a">
      <div class="aa">
        <div class="aaa">
          <div class="aaaa">
            <h1 class="aaaaa" id="site-title">
              <a href="/">{{ site.title }}</a>
            </h1>
            <div class="aaaab">
              {% include switch.html id="sw1" left="sun" right="moon-stars" %}
              {% include switch.html id="sw2" left="file-earmark-text" right="folder2" %}
            </div>
          </div>
        </div>
      </div>
      <div class="ab">
        <div class="aba">
          <div class="abaa">
            <div id="text-to-nav" class="abaaa">
              <div id="post" class="abaaaa">
                <h1 id="post-title">{{ page.title }}</h1>
                <div id="post-desc">Last updated: {{ page.updated }}</div>
                <div id="post-main">{{ content }}</div>
                <div id="post-nav">
                  <a id="post-prev" href="#">PREV</a>
                  <a id="post-next" href="#">NEXT</a>
                </div>
              </div>
              <div class="abaaab">
                Nav
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      var root = document.querySelector(':root')
      var sw1_input = document.querySelector('#sw1 >input')
      var sw2_input = document.querySelector('#sw2 >input')
      var text_to_nav = document.querySelector('#text-to-nav')

      var set_theme = t => {
        if (t === 'dark') {
          root.classList.add('dark')
          window.sessionStorage.setItem('theme', 'dark')
        } else {
          root.classList.remove('dark')
          window.sessionStorage.setItem('theme', 'light')
        }
      }

      var cur_theme = window.sessionStorage.getItem('theme') || (window.matchMedia("(prefers-color-scheme: dark)").matches ? 'dark' : 'light')
      if (cur_theme === 'dark') {
        sw1_input.checked = true
        set_theme('dark')
      } else {
        set_theme('light')
      }

      sw1_input.addEventListener('click', e => {
        if (e.target.checked) {
          set_theme('dark')
        } else {
          set_theme('light')
        }
      })

      sw2_input.addEventListener('click', e => {
        if (e.target.checked) {
          text_to_nav.classList.add('sw2-checked')
        } else {
          text_to_nav.classList.remove('sw2-checked')
        }
      })

      document.addEventListener('DOMContentLoaded', e => {
        root.classList.remove('preload')
      })
    </script>
  </body>
</html>